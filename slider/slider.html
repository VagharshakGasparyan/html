<!DOCTYPE html>
<!--html lang="en"-->
<html>
<head>
    <!--meta charset="<?php bloginfo( 'charset' ); ?>"-->
    <meta charset="UTF-8">
    <!--meta http-equiv="refresh" content="5"-->
    <!--meta name="viewport" content="width=device-width, initial-scale=1.0"-->
    <title>Slider</title>
    <!--link rel="icon" type="image/png" href="DevelGood/dg_icon.png"-->
    <style>
        .durs {
            display: block;
            width: 100%;
            max-width: 600px;
            /*border: 1px solid black;*/
            background-color: #cdf;
            margin: 0 auto;
        }
    </style>
</head>
<body>
<div class="durs">
    Text Lorem Ipsum<br>srtyjhdtyjdt
    <div class="galereya">
        <a name="5000">500</a>
        <img src="luxfon.com_6021.jpg">
        <img src="priroda-155.jpg">
        <img src="maxresdefault.jpg">
        <img src="ryjtujkyu.jpg">
        <img src="zakat_priroda.jpg">
    </div>
    Writen text<br>
    <div class="galereya">
        <a name="">300</a>
        <img src="1433446564_bestcars2015lead.jpg">
        <img src="1435302349_avto-eksklyuziv-3.jpg">
        <img src="cropped_800x427.jpg">
    </div>
    Other text<br>
    And ........
</div>


<script>
    var galereya = document.getElementsByClassName("galereya");
    var sldiv = document.createElement("DIV");
    sldiv.style.display = "block";
    sldiv.style.position = "relative";
    sldiv.style.width = "300.3%";
    sldiv.style.left = "-100.1%";
    //sldiv.style.backgroundColor = "#9f9";//========
    //sldiv.style.border = "1px solid red";//========
    var ajknopka = document.createElement("DIV");
    ajknopka.style.display = "inline-block";
    ajknopka.style.position = "absolute";
    ajknopka.style.right = "10px";
    ajknopka.style.top = "calc(50% - 15px)";
    ajknopka.style.width = "30px";
    ajknopka.style.height = "30px";
    ajknopka.style.borderRadius = "50%";
    ajknopka.style.fontSize = "17px";
    ajknopka.style.lineHeight="30px";
    ajknopka.style.fontWeight = "bold";
    ajknopka.style.textAlign = "center";
    ajknopka.style.userSelect = "none";
    ajknopka.style.zIndex = "1";
    ajknopka.innerHTML = "&#9205;";
    ajknopka.style.backgroundColor = "rgba(0,0,0,0.2)";
    ajknopka.style.color = "white";
    var dzaxknopka = ajknopka.cloneNode(true);
    dzaxknopka.style.left = "10px";
    dzaxknopka.innerHTML = "&#9204;";
    var sldivn = [], ajknopkan = [], dzaxknopkan = [];
    var img = [], slaydjam = [], aragutyun = [];
    var i, j, k, len, t = "";
    var sliden = [], sliden0 = [], sliden1 = [];
    if (galereya.length > 0) {
        //alert("ka");
        len = galereya.length;
        for (i = 0; i < len; i++) {
            galereya[i].style.display = "block";
            galereya[i].style.width = "100%";
            galereya[i].style.overflow = "hidden";
            galereya[i].style.position = "relative";
            img[i] = [];
            if (galereya[i].children.length > 0) {
                k = 0;
                for (j = 0; j < galereya[i].children.length; j++) {
                    if (galereya[i].children[j].nodeName === "IMG" && galereya[i].children[j].getAttribute("src") !== "") {
                        galereya[i].children[j].style.display = "none";
                        img[i][k] = galereya[i].children[j].getAttribute("src");
                        //alert(img[i][k]);
                        k++;
                    }
                    if (galereya[i].children[j].nodeName === "A") {
                        slaydjam[i] = galereya[i].children[j].getAttribute("name");
                        if (!isNaN(slaydjam[i])) {
                            slaydjam[i] = parseInt(slaydjam[i]);
                        } else {
                            slaydjam[i] = 0;
                        }
                        aragutyun[i] = galereya[i].children[j].innerHTML;
                        if (!isNaN(aragutyun[i])) {
                            aragutyun[i] = parseInt(aragutyun[i]);
                        } else {
                            aragutyun[i] = 0;
                        }
                        galereya[i].children[j].style.display = "none";
                        //alert(ahref[i]);
                    }
                }
            }
            sldivn[i] = sldiv.cloneNode(true);
            sldivn[i].style.transition = "all " + aragutyun[i] + "ms";
            sldivn[i].setAttribute("onclick", "mecacru(" + i + ");");
            galereya[i].appendChild(sldivn[i]);
            ajknopkan[i] = ajknopka.cloneNode(true);
            galereya[i].appendChild(ajknopkan[i]);
            dzaxknopkan[i] = dzaxknopka.cloneNode(true);
            galereya[i].appendChild(dzaxknopkan[i]);
            ajknopkan[i].onmousemove = function () {
                this.style.backgroundColor = "rgba(0,0,0,0.7)";
            };
            ajknopkan[i].onmouseleave = function () {
                this.style.backgroundColor = "rgba(0,0,0,0.2)";
            };
            ajknopkan[i].setAttribute("onclick", "slideaj(" + i + ");");
            dzaxknopkan[i].onmousemove = function () {
                this.style.backgroundColor = "rgba(0,0,0,0.7)";
            };
            dzaxknopkan[i].onmouseleave = function () {
                this.style.backgroundColor = "rgba(0,0,0,0.2)";
            };
            dzaxknopkan[i].setAttribute("onclick", "slidedzax(" + i + ");");
            sliden[i] = 0;
        }
    }
    if (len > 0) {
        for (i = 0; i < len; i++) {
            slidezro(i);
            if (slaydjam[i] > 0) {
                setInterval('slideaj(' + i + ')', slaydjam[i]);
            }
        }
    }
    function slidezro(n) {
        if (sliden[n] > img[n].length - 1) sliden[n] = 0;
        if (sliden[n] < 0) sliden[n] = img[n].length - 1;
        sliden0[n] = sliden[n] - 1;
        sliden1[n] = sliden[n] + 1;
        if (sliden0[n] < 0) sliden0[n] = img[n].length - 1;
        if (sliden1[n] > img[n].length - 1) sliden1[n] = 0;
        sldivn[n].innerHTML = "<img style='width: 33.333%; position: relative;vertical-align: middle' src='" + img[n][sliden0[n]] + "'>" +
            "<img style='width: 33.333%; position: relative;vertical-align: middle' src='" + img[n][sliden[n]] + "'>" +
            "<img style='width: 33.333%; position: relative;vertical-align: middle' src='" + img[n][sliden1[n]] + "'>";
    }

    function slideaj(n) {
        sldivn[n].style.transition = "all " + aragutyun[n] + "ms";
        sldivn[n].style.left = "-200.2%";
        setTimeout(function () {
            sldivn[n].style.transition = "all " + 0 + "ms";
            sldivn[n].style.left = "-100.1%";
            sliden[n]++;
            slidezro(n);
        }, aragutyun[n]);
    }

    function slidedzax(n) {
        sldivn[n].style.transition = "all " + aragutyun[n] + "ms";
        sldivn[n].style.left = "0";
        setTimeout(function () {
            sldivn[n].style.transition = "all " + 0 + "ms";
            sldivn[n].style.left = "-100.1%";
            sliden[n]--;
            slidezro(n);
        }, aragutyun[n]);
    }
//galereya[i]  sldivn[i]
    var mugfon = document.createElement("DIV");
    mugfon.style.display = "none";
    mugfon.style.position = "fixed";
    mugfon.style.left = "0";
    mugfon.style.top = "0";
    mugfon.style.width = "100%";
    mugfon.style.height = "100%";
    mugfon.style.zIndex = "10";//=======================================================
    mugfon.style.backgroundColor = "rgba(0,0,0,0.7)";
    document.body.appendChild(mugfon);
    var mepo=0;

    function mecacru(n) {
        if(mepo===0){
            galereya[n].style.position="fixed";
            galereya[n].style.width="95%";
            galereya[n].style.left="50%";
            galereya[n].style.top="50%";
            galereya[n].style.transform="translate(-50%,-50%)";
            galereya[n].style.zIndex="11";
            mugfon.style.display = "block";
            mepo=1;
            //alert(n);
        }else{
            for(i=0;i<len;i++){
                galereya[i].style.position="relative";
                galereya[n].style.width="100%";
                galereya[i].style.left="0";
                galereya[i].style.top="0";
                galereya[i].style.transform="translate(0%,0%)";
                galereya[i].style.zIndex="0";
            }
            mugfon.style.display = "none";
            mepo=0;
        }

    }


</script>
</body>
</html>

