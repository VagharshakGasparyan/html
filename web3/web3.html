<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes">
    <title>Web3</title>
    <script src="4.1.0/web3.min.js"></script>
</head>
<body>
<script>
    let address = "0x7E5F4552091A69125d5DfCb7b8C2659029395Bdf";

    let networks = ["https://ethereum-goerli.publicnode.com", "https://eth.llamarpc.com"];

    // const web3 = new Web3(network);
    const web3 = new Web3("https://eth.llamarpc.com");
    console.log(Web3.version, web3);
    web3.eth.getBalance(address).then(balance => {
        console.log(balance);
        const etherBalance = web3.utils.fromWei(balance, 'ether');
        console.log(`Balance of ${address}: ${etherBalance} ETH`);
    })
        .catch(error => {
        console.error('Error getting balance:', error);
    });

    
    //=========================Transfer=======================================
    const senderAddress = '0xYourSenderAddress';  // Replace with sender's address
    const recipientAddress = '0xRecipientAddress';  // Replace with recipient's address
    const privateKey = '0xYourPrivateKey';  // Sender's private key (keep this secure!)
    const amountToSend = web3.utils.toWei('0.1', 'ether');  // Sending 0.1 Ether
    async function sendTransaction() {
        // Get the current nonce (transaction count for the sender)
        const nonce = await web3.eth.getTransactionCount(senderAddress, 'latest');  // 'latest' for the most recent block

        // Define the transaction object
        const transaction = {
            to: recipientAddress,           // Receiver's address
            value: amountToSend,            // Amount to send in wei
            gas: 21000,                     // Gas limit for a simple transfer
            gasPrice: await web3.eth.getGasPrice(),  // Automatically get current gas price
            nonce: nonce,                   // Sender's nonce
        };

        // Sign the transaction with the private key
        const signedTransaction = await web3.eth.accounts.signTransaction(transaction, privateKey);

        // Send the signed transaction
        web3.eth.sendSignedTransaction(signedTransaction.rawTransaction)
            .on('receipt', receipt => {
                console.log('Transaction successful with hash:', receipt.transactionHash);
            })
            .on('error', error => {
                console.error('Error sending transaction:', error);
            });
    }

    sendTransaction();




</script>

</body>
</html>